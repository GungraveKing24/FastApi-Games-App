{% extends 'base.html' %}

{% block title %} Home {% endblock title %}

{% block content %}
<!-- Main Content -->
<main class="flex-1 md:ml-64 overflow-auto bg-background">
    <div class="p-6">
        <div class="mb-6">
            <h1 class="text-3xl font-bold tracking-tight">Mi Dashboard de Juegos</h1>
            <p class="text-muted-foreground">Bienvenido a tu centro de juegos personal</p>
        </div>

        <!-- Tabs -->
        <div class="tabs-container">
            <div class="border-b border-border mb-4">
                <ul class="flex flex-wrap -mb-px text-sm font-medium">
                    <li class="mr-2">
                        <button class="tab-button inline-block p-4 border-b-2 border-primary text-primary" data-tab="library">Mi Biblioteca</button>
                    </li>
                </ul>
            </div>

        <!-- Library Tab Content -->
        <div id="library" class="tab-content">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-2xl font-bold">Ultimos a√±adidos</h2>
                <a href="/games" class="inline-flex items-center px-3 py-2 text-sm font-medium rounded-md border border-border bg-card hover:bg-accent transition-colors">
                Ver Todos
                </a>
            </div>

            <!-- Recent Games Grid -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">

                <!-- Game Card 1 -->
                {% for game in games_added %}
                <div class="bg-card border border-border rounded-lg overflow-hidden hover:shadow-md transition-shadow">
                    <a href="game-details.html">
                        <div class="relative aspect-video">
                            <img src="{{ url_for('static', path='images/Caratulas/' + game.img)}}" alt="The Legend of Zelda: Breath of the Wild" class="w-full h-full object-cover">
                            {% if game.estado == "Completado" %}
                            <span class="absolute top-2 right-2 bg-green-500 text-white text-xs px-2 py-1 rounded-full">Completado</span>
                            {% elif game.estado == "Pendiente" %}
                                <span class="absolute top-2 right-2 bg-yellow-500 text-white text-xs px-2 py-1 rounded-full">Pendiente</span>
                            {% elif game.estado == "Jugando" %} 
                                <span class="absolute top-2 right-2 bg-blue-500 text-white text-xs px-2 py-1 rounded-full">Jugando</span>
                            {% elif game.estado == "Abandonado" %}
                                <span class="absolute top-2 right-2 bg-red-500 text-white text-xs px-2 py-1 rounded-full">Abandonado</span>
                            {% elif game.estado == "Nuevo" %}
                                <span class="absolute top-2 right-2 bg-gray-500 text-white text-xs px-2 py-1 rounded-full">Nuevo</span>
                            {% endif %}
                        </div>
                        <div class="p-4">
                            <h3 class="font-bold truncate">{{ game.juego }}</h3>
                            <div class="flex items-center text-sm text-muted-foreground mt-1">
                                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-1">
                                <circle cx="12" cy="12" r="10"></circle>
                                <polyline points="12 6 12 12 16 14"></polyline>
                                </svg>
                                <span>120 horas</span>
                            </div>
                            <div class="mt-2">
                                <div class="flex justify-between text-xs mb-1">
                                    <span>Progreso</span>
                                    <span>85%</span>
                                </div>
                                <div class="w-full bg-muted rounded-full h-1.5">
                                    <div class="bg-primary h-1.5 rounded-full" style="width: 85%"></div>
                                </div>
                            </div>
                        </div>

                        <div class="px-4 pb-4 text-xs text-muted-foreground">
                        <div class="flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-1">
                            <path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"></path>
                            <path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"></path>
                            <path d="M4 22h16"></path>
                            <path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"></path>
                            <path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"></path>
                            <path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"></path>
                            </svg>
                            <span>15/20 logros</span>
                        </div>
                    </div>
                </a>
            </div>
            {% endfor %}
            <!-- End of Game Card 1 -->
        </div>

        <!-- Continue Playing Section -->
        <div class="mt-8">
            <h2 class="text-2xl font-bold mb-4">Continuar Jugando</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
                {% for gamess in games %}
                <!-- Game Card 5 -->
                <div class="bg-card border border-border rounded-lg overflow-hidden hover:shadow-md transition-shadow">
                    <a href="game-details.html">
                        <div class="relative aspect-video">
                            <img src="{{ url_for('static', path='images/Caratulas/' + gamess.img)}}" alt="Red Dead Redemption 2" class="w-full h-full object-cover">
                        </div>
                        <div class="p-4">
                            <h3 class="font-bold truncate">{{ gamess.juego }}</h3>
                            <div class="flex items-center text-sm text-muted-foreground mt-1">
                                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-1">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <polyline points="12 6 12 12 16 14"></polyline>
                                </svg>
                                <span>110 horas</span>
                            </div>

                            <div class="mt-2">
                                <div class="flex justify-between text-xs mb-1">
                                    <span>Progreso</span>
                                    <span>92%</span>
                                </div>
                                <div class="w-full bg-muted rounded-full h-1.5">
                                    <div class="bg-primary h-1.5 rounded-full" style="width: 92%"></div>
                                </div>
                            </div>
                        </div>
                        <div class="px-4 pb-4 text-xs text-muted-foreground">
                            <div class="flex items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-1">
                                    <path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"></path>
                                    <path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"></path>
                                    <path d="M4 22h16"></path>
                                    <path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"></path>
                                    <path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"></path>
                                    <path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"></path>
                                </svg>
                                <span>42/51 logros</span>
                            </div>
                        </div>
                    </a>
                </div>
                {% endfor %}
                <!-- End of Game Card 5 -->
            </div>
        </div>    
    </div>
</main>
{% endblock content %}